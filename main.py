import telebot
from telebot import types

# –¢–≤—ñ–π —Ç–æ–∫–µ–Ω
API_TOKEN = '8196800585:AAE3UBIw9m37YRJnWBm220DNYs7KnPGa7Ro'
bot = telebot.TeleBot(API_TOKEN)

# –°–ª–æ–≤–Ω–∏–∫ –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –ø—Ä–æ—Ñ—ñ–ª—ñ–≤)
last_profile_msg = {}

# --- –ö–õ–ê–í–Ü–ê–¢–£–†–ò ---

def main_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True, row_width=1)
    markup.add(
        types.KeyboardButton("üéì –ü–†–û–§–Ü–õ–Ü –ù–ê–í–ß–ê–ù–ù–Ø"),
        types.KeyboardButton("üìû –ö–û–ù–¢–ê–ö–¢–ò"),
        types.KeyboardButton("üìç –õ–û–ö–ê–¶–Ü–Ø")
    )
    return markup

def profiles_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True, row_width=1)
    markup.add(
        types.KeyboardButton("–Ü–°–¢–û–†–ò–ö–û-–ü–†–ê–í–û–í–ò–ô –ü–†–û–§–Ü–õ–¨"),
        types.KeyboardButton("–ü–†–û–§–Ü–õ–¨ –Ü–ù–û–ó–ï–ú–ù–û–á –§–Ü–õ–û–õ–û–ì–Ü–á"),
        types.KeyboardButton("–ë–Ü–û–¢–ï–•–ù–û–õ–û–ì–Ü–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨"),
        types.KeyboardButton("–ú–ï–î–ò–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨"),
        types.KeyboardButton("‚¨ÖÔ∏è –ü–û–í–ï–†–ù–£–¢–ò–°–Ø –£ –ú–ï–ù–Æ")
    )
    return markup

# --- –û–ë–†–û–ë–ù–ò–ö–ò –ì–û–õ–û–í–ù–û–ì–û –ú–ï–ù–Æ (–ë–ï–ó –í–ò–î–ê–õ–ï–ù–ù–Ø) ---

@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(
        message.chat.id, 
        "*–í—ñ—Ç–∞—é —É –±–æ—Ç—ñ –¢–ù–í–ö ‚Ññ15!*\n\n–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂—á–µ:", 
        reply_markup=main_menu(), 
        parse_mode='Markdown'
    )

@bot.message_handler(func=lambda m: m.text == "üéì –ü–†–û–§–Ü–õ–Ü –ù–ê–í–ß–ê–ù–ù–Ø")
def show_profiles(message):
    bot.send_message(
        message.chat.id, 
        "–û–±–µ—Ä—ñ—Ç—å –ø—Ä–æ—Ñ—ñ–ª—å –Ω–∞–≤—á–∞–Ω–Ω—è:", 
        reply_markup=profiles_menu()
    )

@bot.message_handler(func=lambda m: m.text == "‚¨ÖÔ∏è –ü–û–í–ï–†–ù–£–¢–ò–°–Ø –£ –ú–ï–ù–Æ")
def go_back(message):
    bot.send_message(
        message.chat.id, 
        "*–ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é*", 
        reply_markup=main_menu(), 
        parse_mode='Markdown'
    )

@bot.message_handler(func=lambda m: m.text == "üìû –ö–û–ù–¢–ê–ö–¢–ò")
def contacts(message):
    text = (
        "*–ö–û–ù–¢–ê–ö–¢–ò –ê–î–ú–Ü–ù–Ü–°–¢–†–ê–¶–Ü–á –¢–ù–í–ö –®–ú–õ 15*\n\n"
        "üîπ **–û–∫—Å–∞–Ω–∞ –†–æ–º–∞–Ω—ñ–≤–Ω–∞** ‚Äì –¥–∏—Ä–µ–∫—Ç–æ—Ä;\n"
        "üîπ **–ö—Ä–∞—Å–Ω–æ–ø–æ–ª—å—Å—å–∫–∞ –Ü—Ä–∏–Ω–∞ –°–µ–º–µ–Ω—ñ–≤–Ω–∞** ‚Äì –∑–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –∑ –ù–í–†;\n"
        "üîπ **–ú–∞—Ü—å–∫–æ–≤—Å—å–∫–∞ –ì–∞–Ω–Ω–∞ –ü–µ—Ç—Ä—ñ–≤–Ω–∞** ‚Äì –∑–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –∑ –ù–í–†;\n"
        "üîπ **–°—Ç—É–ª—å–∫—ñ–≤—Å—å–∫–∞ –ú–∏—Ä–æ—Å–ª–∞–≤–∞ –î–º–∏—Ç—Ä—ñ–≤–Ω–∞** ‚Äì –∑–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –∑ –í–†.\n\n"
        "üìß **E-mail:** skhool_15@ukr.net"
    )
    bot.send_message(message.chat.id, text, reply_markup=main_menu(), parse_mode='Markdown')

@bot.message_handler(func=lambda m: m.text == "üìç –õ–û–ö–ê–¶–Ü–Ø")
def location(message):
    lat, lon = 49.544480, 25.628073
    inline_map = types.InlineKeyboardMarkup()
    inline_map.add(types.InlineKeyboardButton("üó∫ –ü–æ–±—É–¥—É–≤–∞—Ç–∏ –º–∞—Ä—à—Ä—É—Ç (Google Maps)", url=f"https://www.google.com/maps?q={lat},{lon}"))
    
    text = (
        "*–¢–ù–í–ö –®–∫–æ–ª–∞-–ª—ñ—Ü–µ–π ‚Ññ15 —ñ–º–µ–Ω—ñ –õ–µ—Å—ñ –£–∫—Ä–∞—ó–Ω–∫–∏*\n\n"
        "üìç **–ê–¥—Ä–µ—Å–∞:** –º. –¢–µ—Ä–Ω–æ–ø—ñ–ª—å, –≤—É–ª. –õ–µ—Å—ñ –£–∫—Ä–∞—ó–Ω–∫–∏, 23\n\n"
        "–í–∏ –º–æ–∂–µ—Ç–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–µ–Ω—é –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∏–∂—á–µ"
    )
    bot.send_message(message.chat.id, text, reply_markup=main_menu(), parse_mode='Markdown')
    # –ù–∞–¥—Å–∏–ª–∞—î–º–æ –∫–Ω–æ–ø–∫—É –∑ –∫–∞—Ä—Ç–æ—é –æ–∫—Ä–µ–º–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º –∞–±–æ –ø—Ä–∏–∫—Ä—ñ–ø–ª—é—î–º–æ –¥–æ —Ç–µ–∫—Å—Ç—É
    bot.send_message(message.chat.id, "–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó:", reply_markup=inline_map)

# --- –ü–†–û–§–Ü–õ–Ü (–ó –í–ò–î–ê–õ–ï–ù–ù–Ø–ú –î–õ–Ø –ß–ò–°–¢–û–¢–ò) ---

def send_profile(chat_id, text):
    # –í–∏–¥–∞–ª—è—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å, —è–∫—â–æ –≤—ñ–Ω –±—É–≤ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∏–π —Ä–∞–Ω—ñ—à–µ
    if chat_id in last_profile_msg:
        try:
            bot.delete_message(chat_id, last_profile_msg[chat_id])
        except:
            pass
    
    try:
        with open('tnvk15.jpg', 'rb') as photo:
            sent = bot.send_photo(chat_id, photo, caption=text, reply_markup=profiles_menu(), parse_mode='Markdown')
    except:
        sent = bot.send_message(chat_id, text, reply_markup=profiles_menu(), parse_mode='Markdown')
    
    last_profile_msg[chat_id] = sent.message_id

@bot.message_handler(func=lambda m: m.text == "–Ü–°–¢–û–†–ò–ö–û-–ü–†–ê–í–û–í–ò–ô –ü–†–û–§–Ü–õ–¨")
def p1(message):
    text = (
        "*–Ü–°–¢–û–†–ò–ö–û-–ü–†–ê–í–û–í–ò–ô –ü–†–û–§–Ü–õ–¨*\n\n"
        "*–ù–ê–® –í–ò–ü–£–°–ö–ù–ò–ö –ó–ù–ê–¢–ò–ú–ï*\n"
        "‚Äî –ï–≤–æ–ª—é—Ü—ñ—é –ø—Ä–∞–≤–æ–≤–∏—Ö —Å–∏—Å—Ç–µ–º.\n"
        "‚Äî –ö–ª—é—á–æ–≤—ñ —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –ø–æ–¥—ñ—ó.\n"
        "‚Äî –û—Å–Ω–æ–≤–∏ –º—ñ–∂–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –ø—Ä–∞–≤–∞.\n"
        "‚Äî –†–æ–ª—å –ª—ñ–¥–µ—Ä—ñ–≤ —É —ñ—Å—Ç–æ—Ä—ñ—ó.\n"
        "‚Äî –†–æ–±–æ—Ç—É –∑ –∞—Ä—Ö—ñ–≤–∞–º–∏.\n\n"
        "*–í–ú–Ü–¢–ò–ú–ï*\n"
        "‚Äî –ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏.\n"
        "‚Äî –ê—Ä–≥—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –≤ –¥–µ–±–∞—Ç–∞—Ö.\n"
        "‚Äî –î–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–æ–≤—ñ –∫–µ–π—Å–∏.\n\n"
        "*–ó–ú–û–ñ–ï*\n"
        "‚Äî –ó–∞—Ö–∏—â–∞—Ç–∏ –ø—Ä–∞–≤–∞.\n"
        "‚Äî –õ—ñ–¥–∏—Ä—É–≤–∞—Ç–∏ –≤ —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞—Ö.\n"
        "‚Äî –°–∫–ª–∞—Å—Ç–∏ –ù–ú–¢ –Ω–∞ –≤–∏—Å–æ–∫–∏–π –±–∞–ª."
    )
    send_profile(message.chat.id, text)

@bot.message_handler(func=lambda m: m.text == "–ü–†–û–§–Ü–õ–¨ –Ü–ù–û–ó–ï–ú–ù–û–á –§–Ü–õ–û–õ–û–ì–Ü–á")
def p2(message):
    text = (
        "*–ü–†–û–§–Ü–õ–¨ –Ü–ù–û–ó–ï–ú–ù–û–á –§–Ü–õ–û–õ–û–ì–Ü–á*\n\n"
        "*–ù–ê–® –í–ò–ü–£–°–ö–ù–ò–ö –ó–ù–ê–¢–ò–ú–ï*\n"
        "‚Äî –ì—Ä–∞–º–∞—Ç–∏–∫—É (B1‚ÄìB2).\n"
        "‚Äî –ê–∫—Ç–∏–≤–Ω—É –ª–µ–∫—Å–∏–∫—É.\n"
        "‚Äî –ö—É–ª—å—Ç—É—Ä–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ.\n\n"
        "*–í–ú–Ü–¢–ò–ú–ï*\n"
        "‚Äî –í—ñ–ª—å–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç–∏ —Ç–∞ –ø–∏—Å–∞—Ç–∏.\n"
        "‚Äî –ß–∏—Ç–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—á–Ω—ñ —Ç–µ–∫—Å—Ç–∏.\n\n"
        "*–ó–ú–û–ñ–ï*\n"
        "‚Äî –ü—Ä–æ–π—Ç–∏ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—É.\n"
        "‚Äî –ü–æ–¥–æ—Ä–æ–∂—É–≤–∞—Ç–∏ –±–µ–∑ –±–∞—Ä'—î—Ä—ñ–≤.\n"
        "‚Äî –£—Å–ø—ñ—à–Ω–æ —Å–∫–ª–∞—Å—Ç–∏ –ù–ú–¢."
    )
    send_profile(message.chat.id, text)

@bot.message_handler(func=lambda m: m.text == "–ë–Ü–û–¢–ï–•–ù–û–õ–û–ì–Ü–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨")
def p3(message):
    text = (
        "*–ë–Ü–û–¢–ï–•–ù–û–õ–û–ì–Ü–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨*\n\n"
        "*–ù–ê–® –í–ò–ü–£–°–ö–ù–ò–ö –ó–ù–ê–¢–ò–ú–ï*\n"
        "‚Äî –õ–æ–≥—ñ–∫—É –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è.\n"
        "‚Äî –û—Å–Ω–æ–≤–∏ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏.\n"
        "‚Äî STEM-–ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è.\n\n"
        "*–í–ú–Ü–¢–ò–ú–ï*\n"
        "‚Äî –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏.\n"
        "‚Äî –í—ñ–∑—É–∞–ª—ñ–∑—É–≤–∞—Ç–∏ 3D –ø—Ä–æ–¥—É–∫—Ç–∏.\n\n"
        "*–ó–ú–û–ñ–ï*\n"
        "‚Äî –†–æ–∑—Ä–æ–±–ª—è—Ç–∏ —Ü–∏—Ñ—Ä–æ–≤—ñ —Ä—ñ—à–µ–Ω–Ω—è.\n"
        "‚Äî –û–ø–∞–Ω—É–≤–∞—Ç–∏ –®–Ü —Ç–∞ Big Data.\n"
        "‚Äî –°–∫–ª–∞—Å—Ç–∏ –ù–ú–¢ –∑ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏."
    )
    send_profile(message.chat.id, text)

@bot.message_handler(func=lambda m: m.text == "–ú–ï–î–ò–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨")
def p4(message):
    text = (
        "*–ú–ï–î–ò–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨*\n\n"
        "*–ù–ê–® –í–ò–ü–£–°–ö–ù–ò–ö –ó–ù–ê–¢–ò–ú–ï*\n"
        "‚Äî –ú–æ–ª–µ–∫—É–ª—è—Ä–Ω—É –º–µ–¥–∏—Ü–∏–Ω—É —Ç–∞ –≥–µ–Ω–µ—Ç–∏–∫—É.\n"
        "‚Äî –ó–∞–∫–æ–Ω–∏ —Ö—ñ–º—ñ—ó —Ç–∞ —Ñ—ñ–∑—ñ–æ–ª–æ–≥—ñ—ó.\n\n"
        "*–í–ú–Ü–¢–ò–ú–ï*\n"
        "‚Äî –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—ó.\n"
        "‚Äî –ü—Ä–æ–≤–æ–¥–∏—Ç–∏ –∞–Ω–∞–ª—ñ–∑ —Ä–µ—á–æ–≤–∏–Ω.\n\n"
        "*–ó–ú–û–ñ–ï*\n"
        "‚Äî –ù–∞–¥–∞–≤–∞—Ç–∏ –¥–æ–º–µ–¥–∏—á–Ω—É –¥–æ–ø–æ–º–æ–≥—É.\n"
        "‚Äî –†–æ–∑–≤–∏–≤–∞—Ç–∏ —Å—É—á–∞—Å–Ω—É –º–µ–¥–∏—Ü–∏–Ω—É.\n"
        "‚Äî –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏—Å—è –¥–æ –ù–ú–¢."
    )
    send_profile(message.chat.id, text)

if __name__ == '__main__':
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω–∏–π...")
    bot.infinity_polling()
