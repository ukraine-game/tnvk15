import telebot
from telebot import types

API_TOKEN = '8196800585:AAE3UBIw9m37YRJnWBm220DNYs7KnPGa7Ro'
bot = telebot.TeleBot(API_TOKEN)

# –°–ª–æ–≤–Ω–∏–∫ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è ID –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—ñ–≤
last_profile_msg = {}

def main_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True, row_width=1)
    markup.add(
        types.KeyboardButton("üéì –ü–†–û–§–Ü–õ–Ü –ù–ê–í–ß–ê–ù–ù–Ø"),
        types.KeyboardButton("üìû –ö–û–ù–¢–ê–ö–¢–ò"),
        types.KeyboardButton("üìç –õ–û–ö–ê–¶–Ü–Ø")
    )
    return markup

def profiles_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True, row_width=1)
    markup.add(
        types.KeyboardButton("–Ü–°–¢–û–†–ò–ö–û-–ü–†–ê–í–û–í–ò–ô –ü–†–û–§–Ü–õ–¨"),
        types.KeyboardButton("–ü–†–û–§–Ü–õ–¨ –Ü–ù–û–ó–ï–ú–ù–û–á –§–Ü–õ–û–õ–û–ì–Ü–á"),
        types.KeyboardButton("–ë–Ü–û–¢–ï–•–ù–û–õ–û–ì–Ü–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨"),
        types.KeyboardButton("–ú–ï–î–ò–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨"),
        types.KeyboardButton("‚¨ÖÔ∏è –ü–û–í–ï–†–ù–£–¢–ò–°–Ø –£ –ú–ï–ù–Æ")
    )
    return markup

@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(
        message.chat.id, 
        "*–í—ñ—Ç–∞—é —É –±–æ—Ç—ñ –¢–ù–í–ö ‚Ññ15!*\n\n–û–±–µ—Ä—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ä–æ–∑–¥—ñ–ª –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–Ω–æ–ø–æ–∫ –Ω–∏–∂—á–µ:", 
        reply_markup=main_menu(), 
        parse_mode='Markdown'
    )

@bot.message_handler(func=lambda m: m.text == "üéì –ü–†–û–§–Ü–õ–Ü –ù–ê–í–ß–ê–ù–ù–Ø")
def show_profiles(message):
    bot.send_message(
        message.chat.id, 
        "–û–±–µ—Ä—ñ—Ç—å –ø—Ä–æ—Ñ—ñ–ª—å –Ω–∞–≤—á–∞–Ω–Ω—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó:", 
        reply_markup=profiles_menu()
    )

@bot.message_handler(func=lambda m: m.text == "‚¨ÖÔ∏è –ü–û–í–ï–†–ù–£–¢–ò–°–Ø –£ –ú–ï–ù–Æ")
def go_back(message):
    bot.send_message(
        message.chat.id, 
        "*–ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é*", 
        reply_markup=main_menu(), 
        parse_mode='Markdown'
    )

@bot.message_handler(func=lambda m: m.text == "üìû –ö–û–ù–¢–ê–ö–¢–ò")
def contacts(message):
    text = (
        "*–ê–î–ú–Ü–ù–Ü–°–¢–†–ê–¶–Ü–Ø –¢–ù–í–ö –®–ú–õ 15*\n\n"
        "üë§ **–û–∫—Å–∞–Ω–∞ –†–æ–º–∞–Ω—ñ–≤–Ω–∞** ‚Äì –¥–∏—Ä–µ–∫—Ç–æ—Ä\n"
        "üë§ **–ö—Ä–∞—Å–Ω–æ–ø–æ–ª—å—Å—å–∫–∞ –Ü—Ä–∏–Ω–∞ –°–µ–º–µ–Ω—ñ–≤–Ω–∞** ‚Äì –∑–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –∑ –Ω–∞–≤—á–∞–ª—å–Ω–æ-–≤–∏—Ö–æ–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏\n"
        "üë§ **–ú–∞—Ü—å–∫–æ–≤—Å—å–∫–∞ –ì–∞–Ω–Ω–∞ –ü–µ—Ç—Ä—ñ–≤–Ω–∞** ‚Äì –∑–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –∑ –Ω–∞–≤—á–∞–ª—å–Ω–æ-–≤–∏—Ö–æ–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏\n"
        "üë§ **–°—Ç—É–ª—å–∫—ñ–≤—Å—å–∫–∞ –ú–∏—Ä–æ—Å–ª–∞–≤–∞ –î–º–∏—Ç—Ä—ñ–≤–Ω–∞** ‚Äì –∑–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –∑ –≤–∏—Ö–æ–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏\n\n"
        "üìß **–ù–∞—à–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞ (E-mail):**\n`skhool_15@ukr.net`"
    )
    bot.send_message(message.chat.id, text, reply_markup=main_menu(), parse_mode='Markdown')

@bot.message_handler(func=lambda m: m.text == "üìç –õ–û–ö–ê–¶–Ü–Ø")
def location(message):
    # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —à–∫–æ–ª–∏
    lat, lon = 49.544480, 25.628073
    # –°–ø–µ—Ü—ñ–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ –º–∞—Ä—à—Ä—É—Ç—É –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ—ó –≥–µ–æ–ø–æ–∑–∏—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–æ —à–∫–æ–ª–∏
    route_url = f"https://www.google.com/maps/dir/?api=1&destination={lat},{lon}"
    
    inline_map = types.InlineKeyboardMarkup()
    inline_map.add(types.InlineKeyboardButton("üó∫ –ü–æ–±—É–¥—É–≤–∞—Ç–∏ –º–∞—Ä—à—Ä—É—Ç (Google Maps)", url=route_url))
    
    text = (
        "*–¢–ù–í–ö –®–∫–æ–ª–∞-–ª—ñ—Ü–µ–π ‚Ññ15 —ñ–º–µ–Ω—ñ –õ–µ—Å—ñ –£–∫—Ä–∞—ó–Ω–∫–∏*\n\n"
        "üìç **–ê–¥—Ä–µ—Å–∞:** –º. –¢–µ—Ä–Ω–æ–ø—ñ–ª—å, –≤—É–ª. –õ–µ—Å—ñ –£–∫—Ä–∞—ó–Ω–∫–∏, 23\n\n"
        "‚ÑπÔ∏è _–©–æ–± –ø–æ–±—É–¥—É–≤–∞—Ç–∏ –º–∞—Ä—à—Ä—É—Ç –Ω–∞ –º–∞–ø–∞—Ö –≤—ñ–¥ –≤–∞—à–æ–≥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è, –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂—á–µ._\n\n"
        "–í–∏ –º–æ–∂–µ—Ç–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–µ–Ω—é –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∏–∂—á–µ üëá"
    )
    bot.send_message(message.chat.id, text, reply_markup=inline_map, parse_mode='Markdown')
    # –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ Reply-–º–µ–Ω—é –æ–∫—Ä–µ–º–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º, —â–æ–± –≤–æ–Ω–æ –Ω–µ –∑–Ω–∏–∫–ª–æ
    bot.send_message(message.chat.id, "–ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é:", reply_markup=main_menu())

def send_profile_info(chat_id, text):
    # –í–∏–¥–∞–ª—è—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –æ–ø–∏—Å –ø—Ä–æ—Ñ—ñ–ª—é, —â–æ–± –Ω–µ –∑–∞—Å–º—ñ—á—É–≤–∞—Ç–∏ —á–∞—Ç
    if chat_id in last_profile_msg:
        try:
            bot.delete_message(chat_id, last_profile_msg[chat_id])
        except:
            pass
    
    try:
        # –°–ø—Ä–æ–±–∞ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ñ–æ—Ç–æ. –Ø–∫—â–æ —Ñ–∞–π–ª—É –Ω–µ–º–∞—î, –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç—å—Å—è –ª–∏—à–µ —Ç–µ–∫—Å—Ç.
        with open('tnvk15.jpg', 'rb') as photo:
            sent = bot.send_photo(chat_id, photo, caption=text, reply_markup=profiles_menu(), parse_mode='Markdown')
    except:
        sent = bot.send_message(chat_id, text, reply_markup=profiles_menu(), parse_mode='Markdown')
    
    last_profile_msg[chat_id] = sent.message_id

@bot.message_handler(func=lambda m: m.text == "–Ü–°–¢–û–†–ò–ö–û-–ü–†–ê–í–û–í–ò–ô –ü–†–û–§–Ü–õ–¨")
def p1(message):
    text = (
        "*–Ü–°–¢–û–†–ò–ö–û-–ü–†–ê–í–û–í–ò–ô –ü–†–û–§–Ü–õ–¨*\n\n"
        "üéì *–ù–∞—à –≤–∏–ø—É—Å–∫–Ω–∏–∫ –∑–Ω–∞—Ç–∏–º–µ:*\n‚Äî –ï–≤–æ–ª—é—Ü—ñ—é –ø—Ä–∞–≤–æ–≤–∏—Ö —Å–∏—Å—Ç–µ–º, –∫–ª—é—á–æ–≤—ñ —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –ø–æ–¥—ñ—ó, –æ—Å–Ω–æ–≤–∏ –º—ñ–∂–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –ø—Ä–∞–≤–∞.\n\n"
        "üõ† *–í–º—ñ—Ç–∏–º–µ:*\n‚Äî –ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏, –∞—Ä–≥—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –¥—É–º–∫—É –≤ –¥–µ–±–∞—Ç–∞—Ö, –¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–æ–≤—ñ –∫–µ–π—Å–∏.\n\n"
        "üöÄ *–ó–º–æ–∂–µ:*\n‚Äî –ó–∞—Ö–∏—â–∞—Ç–∏ –ø—Ä–∞–≤–∞, –ª—ñ–¥–∏—Ä—É–≤–∞—Ç–∏ –≤ —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞—Ö, —É—Å–ø—ñ—à–Ω–æ —Å–∫–ª–∞—Å—Ç–∏ –ù–ú–¢."
    )
    send_profile_info(message.chat.id, text)

@bot.message_handler(func=lambda m: m.text == "–ü–†–û–§–Ü–õ–¨ –Ü–ù–û–ó–ï–ú–ù–û–á –§–Ü–õ–û–õ–û–ì–Ü–á")
def p2(message):
    text = (
        "*–ü–†–û–§–Ü–õ–¨ –Ü–ù–û–ó–ï–ú–ù–û–á –§–Ü–õ–û–õ–û–ì–Ü–á*\n\n"
        "üéì *–ù–∞—à –≤–∏–ø—É—Å–∫–Ω–∏–∫ –∑–Ω–∞—Ç–∏–º–µ:*\n‚Äî –ì—Ä–∞–º–∞—Ç–∏–∫—É (B1‚ÄìB2), –ª–µ–∫—Å–∏–∫—É, –∫—É–ª—å—Ç—É—Ä–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –∫—Ä–∞—ó–Ω.\n\n"
        "üõ† *–í–º—ñ—Ç–∏–º–µ:*\n‚Äî –í—ñ–ª—å–Ω–æ —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è, —á–∏—Ç–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—á–Ω—ñ —Ç–µ–∫—Å—Ç–∏, –≤–µ—Å—Ç–∏ –¥—ñ–ª–æ–≤—É –ø–µ—Ä–µ–ø–∏—Å–∫—É.\n\n"
        "üöÄ *–ó–º–æ–∂–µ:*\n‚Äî –ü–æ–¥–æ—Ä–æ–∂—É–≤–∞—Ç–∏ –±–µ–∑ –±–∞—Ä'—î—Ä—ñ–≤, –Ω–∞–≤—á–∞—Ç–∏—Å—è –∑–∞ –∫–æ—Ä–¥–æ–Ω–æ–º, —Å–∫–ª–∞—Å—Ç–∏ –ù–ú–¢ –Ω–∞ –≤–∏—Å–æ–∫–∏–π –±–∞–ª."
    )
    send_profile_info(message.chat.id, text)

@bot.message_handler(func=lambda m: m.text == "–ë–Ü–û–¢–ï–•–ù–û–õ–û–ì–Ü–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨")
def p3(message):
    text = (
        "*–ë–Ü–û–¢–ï–•–ù–û–õ–û–ì–Ü–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨*\n\n"
        "üéì *–ù–∞—à –≤–∏–ø—É—Å–∫–Ω–∏–∫ –∑–Ω–∞—Ç–∏–º–µ:*\n‚Äî –õ–æ–≥—ñ–∫—É –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è, –æ—Å–Ω–æ–≤–∏ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏, STEM-—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó.\n\n"
        "üõ† *–í–º—ñ—Ç–∏–º–µ:*\n‚Äî –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏, –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ 3D –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è–º.\n\n"
        "üöÄ *–ó–º–æ–∂–µ:*\n‚Äî –†–æ–∑—Ä–æ–±–ª—è—Ç–∏ –≤–ª–∞—Å–Ω—ñ IT-—Ä—ñ—à–µ–Ω–Ω—è, –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –®–Ü, –≤—Å—Ç—É–ø–∏—Ç–∏ –Ω–∞ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ—Å—Ç—ñ."
    )
    send_profile_info(message.chat.id, text)

@bot.message_handler(func=lambda m: m.text == "–ú–ï–î–ò–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨")
def p4(message):
    text = (
        "*–ú–ï–î–ò–ß–ù–ò–ô –ü–†–û–§–Ü–õ–¨*\n\n"
        "üéì *–ù–∞—à –≤–∏–ø—É—Å–∫–Ω–∏–∫ –∑–Ω–∞—Ç–∏–º–µ:*\n‚Äî –ì–µ–Ω–µ—Ç–∏–∫—É, –º–æ–ª–µ–∫—É–ª—è—Ä–Ω—É –±—ñ–æ–ª–æ–≥—ñ—é, —Ñ—ñ–∑—ñ–æ–ª–æ–≥—ñ—é —Ç–∞ —Ö—ñ–º—ñ—é.\n\n"
        "üõ† *–í–º—ñ—Ç–∏–º–µ:*\n‚Äî –ü—Ä–æ–≤–æ–¥–∏—Ç–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è, –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ö—ñ–º—ñ—á–Ω—ñ –ø—Ä–æ—Ü–µ—Å–∏.\n\n"
        "üöÄ *–ó–º–æ–∂–µ:*\n‚Äî –ù–∞–¥–∞–≤–∞—Ç–∏ –ø–µ—Ä—à—É –¥–æ–ø–æ–º–æ–≥—É, —Ä–æ–∑–≤–∏–≤–∞—Ç–∏—Å—è –≤ –º–µ–¥–∏—Ü–∏–Ω—ñ, —É—Å–ø—ñ—à–Ω–æ –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏—Å—è –¥–æ –ù–ú–¢."
    )
    send_profile_info(message.chat.id, text)

if __name__ == '__main__':
    print("–ë–æ—Ç –¢–ù–í–ö ‚Ññ15 –∑–∞–ø—É—â–µ–Ω–∏–π...")
    bot.infinity_polling()
